<!-- File này chuyên dùng để test khi thực hành  -->
 <!DOCTYPE html>
 <html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
 </head>
<body>
    <div class="note">JS Custom Event</div>
    <script>
        let div = document.querySelector('.note');                   //Dòng này được chạy trước,trả về phần tử div 

        function highlight(elem) {                                   //Dòng 2, gán nền màu vàng cho phần tử div 
            const bgColor = 'yellow';
            elem.style.backgroundColor = bgColor;

            let event = new CustomEvent('highlight', {              // Dòng 3, sự kiện tùy chỉnh tên là highlight được tạo ra 
                detail: { backgroundColor: bgColor }                // Khi mà màu nền là màu vàng thì sự kiện này sẽ xảy ra 
            });

            elem.dispatchEvent(event);                              //Dòng 4, kích hoạt sự kiện này trên phần tử div, vì phần tử này có màu vàng 
        }

        function addBorder(elem) {                                   //Dòng 5, Hàm này sẽ tạo border màu đỏ cho 1 phần tử 
            elem.style.border = "solid 1px red";
        }

        div.addEventListener('highlight', function (e) {             //Dòng 6, trình lắng nghe sự kiện highlight được gắn vào phần tử div 
            addBorder(this);                                         //Khi phát hiện ra sự kiện highlight được/bị kích hoạt thì gọi hàm này  
            console.log(e.detail);                                   //Khi đó phần tử div sẽ được tạo border màu đỏ 
        });

        // highlight div element
        highlight(div);                                              //Khi hàm highlight được gọi thì Dòng 2 bắt đầu được thực thi 
    </script>
</body>
 </html>